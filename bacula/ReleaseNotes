
          Release Notes for Bacula 1.30

  Bacula code: Total files = 235 Total lines = 67,287 (*.h *.c *.in)

Major Changes this Release:
- Support for SHA1 signatures in addition to MD5 (more secure).
- The btape "test" command is much more comprehensive and automatically
  tries different options.
- Implemented support for autochanger barcodes ("label barcodes", 
  "update slots").
- Make Incremental and Differential saves backup all files changed as
  well as all files moved into save path (added st_ctime to check).
- Preliminary support for identifying cleaning tapes in autochangers.
- Restores directory permissions and times correctly.
- Hard linked files are restored even if only one of links is chosen.
- Relabel Purged tapes with the relabel command.
- Support for Win95 systems (I hope).
- RunBeforeJob now checks the return status. If it is non-zero, the job
  will be terminated in error.
- The Windows Client now uses Cygwin 1.3.20 and should be
  more reliable.                    
- Implemented save/restore of chflags for FreeBSD systems.
- Support for FreeBSD tape drives.
- Lots more documentation.
- Console "run" command now permits setting a start date/time.
- There is a new "default" configuration file that permits saving and
  restoring the Bacula source code immediately on installation. This
  is documented in the "Running Bacula" chapter.
- Finer contol of multiple simultaneous Jobs with specifications for
  the Director as a whole (previous implementation), Jobs, Clients,
  and Storage. Thus if you are careful, you can run multiple simultaneous
  jobs and still have only one simultaneous Job per Volume.
- Rpm spec files thanks to Scott Barninger.

Other Changes this Release:
- Tightened up file permissions (additional security) for all created
  files.
- Eliminated a lot of strcpy() to prevent possible buffer overruns.
- Added "BSF at EOM = yes/no" for supporting FreeBSD tape drives.
- The | and < options are now available for Excludes.           
- Multiple Directors in the GNOME Console now work (thanks Lutz Kttler).
- Gnome console runs on GNOME 2.0 (haven't tried 2.2 yet).
- Installation on Win32 systems with Cygwin is now supported.
- GNOME Console has font support thanks to Phil Stracchino.
- Solaris 2.6 now supported.
- Support for Darwin (at least partially)
- Support connection to MySQL on address:port.                 
- Partial support for AIX systems (see README.AIX)
- Cycle through tapes with "RecycleOldestVolume=yes" (dangerous).
- Console program now supported on Win32 systems as well as 
  several other utility programs.
- Full vertical listing of most catalog records (llist command).
- Correct backwards path separators on Win32 systems to
  prevent creating files names with mixed conventions.
- Print IP address on failed connections to servers.
- Cancel command works much better (cancels waiting jobs in Dir
  and in SD).
- Now have reasonable (but still small) regression script.
- New Console commands for aiding scripting (@input, @output, @tee,
  @time, @version and wait).
- logrotate script in scripts/logrotate
- Prevent configuring subsys directory to be the same as sbindir.
- New Cleaning Prefix record in Pool for defining autochanger cleaning
  tapes.
             
Items to note:
- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  On WinXP systems, and possibly Win2K, Bacula runs under the
  LocalSystem account, so all files that are restored are created with
  that account. I have spent an enormous amount of time trying to 
  resolve this but have not yet succeeded. I have included chown
  in the binary release but it will probably not work without a
  full cygwin installation. You might also try the CACLS program,
  but you will probably need to boot into safemode (F8 during boot)
  to get sufficient permissions.  It is also possible to run
  Bacula under your userid, but the system tray icon will not
  be present -- however, this option permits saving and restoring
  files with your userid.
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
- Version 1.29 File daemons can be used with version 1.30. However,
  there may be an incompatibility if you use Exclude lists.
- RunBeforeJob now checks the return status. If it is non-zero, the job
  will be terminated in error.
- If you have an autochanger with barcodes and you wish to use cleaning
  tapes and you are using MySQL, you must run:
     <bacula-source>/src/cats/alter_mysql_tables
  this script will add one additional VolStatus (Cleaning).
